<!DOCTYPE html>
<html lang="en-us" itemscope itemtype="http://schema.org/WebPage">
  <head>
    
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Python 3.10 - N Acharya</title>
<meta name="description" content="Python 3.10 is here
Python 3.10 is now released. It has a few features worth talking about. Some of these features never existed before in Python (surprisingly!)
Structural Mattern Matching
In the traditional programming languages, this is usually referred to as the switch ...case
statements. Although syntactically it looks like a switch ... case statement, it is a lot more than that.
It allows you to detect and deconstruct different structures the data is defined as, and lets you
use patterns of your definition. Standard pattern matching is very literal and let&rsquo;s you define explicitly. All in all, it adds good power to the language">

<meta name="author" content="N Acharya"><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "N Acharya",
    
    "url": "https:\/\/nacharya.github.io\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/nacharya.github.io\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/nacharya.github.io\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/nacharya.github.io\/posts\/p310\/",
          "name": "Python 3.10"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "map[avatar:nacharya.jpg description:Products \u0026 Architecture -- Cloud, Data Engineering, Data Science \u0026 AI intro:Nabin Acharya name:N Acharya]"
  },
  "headline": "Python 3.10",
  "description" : "Python 3.10 is here Python 3.10 is now released. It has a few features worth talking about. Some of these features never existed before in Python (surprisingly!)\nStructural Mattern Matching In the traditional programming languages, this is usually referred to as the switch ...case statements. Although syntactically it looks like a switch ... case statement, it is a lot more than that.\nIt allows you to detect and deconstruct different structures the data is defined as, and lets you use patterns of your definition. Standard pattern matching is very literal and let\u0026rsquo;s you define explicitly. All in all, it adds good power to the language\n",
  "inLanguage" : "en-us",
  "wordCount":  522 ,
  "datePublished" : "2021-11-27T14:21:32",
  "dateModified" : "2021-11-27T14:21:32",
  "image" : "https:\/\/nacharya.github.io\/",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "https:\/\/nacharya.github.io\/posts\/p310\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/nacharya.github.io\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/nacharya.github.io\/",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Python 3.10" />
<meta property="og:description" content="Python 3.10 is here
Python 3.10 is now released. It has a few features worth talking about. Some of these features never existed before in Python (surprisingly!)
Structural Mattern Matching
In the traditional programming languages, this is usually referred to as the switch ...case
statements. Although syntactically it looks like a switch ... case statement, it is a lot more than that.
It allows you to detect and deconstruct different structures the data is defined as, and lets you
use patterns of your definition. Standard pattern matching is very literal and let&rsquo;s you define explicitly. All in all, it adds good power to the language">
<meta property="og:url" content="https://nacharya.github.io/posts/p310/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="N Acharya" />
<link rel="apple-touch-icon" sizes="180x180" href=" https://nacharya.github.io/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://nacharya.github.io/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://nacharya.github.io/favicon/favicon-16x16.png">


<meta name="generator" content="Hugo 0.148.2">
<link rel="alternate" href="https://nacharya.github.io/index.xml" type="application/rss+xml" title="N Acharya">
<script src="https://nacharya.github.io/js/dark-mode.js"></script><link rel="stylesheet" href="/style.min.css">







 

 <link href="https://nacharya.github.io/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">


<script src="https://nacharya.github.io/vendor/glightbox/js/glightbox.min.js"></script>
 
  </head>
  <body>
    
<div class="container fixed-top mw-100">
  <div class="row justify-content-center">
    <div class="col-sm-12 col-md-12 col-lg-10 col-xl-10">

      <nav class="navbar navbar-expand-lg navbar-light fixed-top p-0">
        <div class="container">

          <a class="navbar-brand fw-bold" href="https://nacharya.github.io/">N Acharya</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            <ul class="navbar-nav mb-2 mb-lg-0 align-items-baseline">
              
              

              <li class="nav-item">
                
                
                
                
                

                <a class="nav-link " title="Home"
                  href="/"> Home</a>
              </li>

              
              
              

              <li class="nav-item">
                
                
                
                
                

                <a class="nav-link  active " title="Posts"
                  href="/posts/"> Posts</a>
              </li>

              
              
              

              <li class="nav-item">
                
                
                
                
                

                <a class="nav-link " title="About"
                  href="/about/"> About</a>
              </li>

              
              
              

              <li class="nav-item">
                
                
                
                
                

                <a class="nav-link " title="Projects"
                  href="/projects/"> Projects</a>
              </li>

              
              
              

              <li class="nav-item">
                
                
                
                
                

                <a class="nav-link " title="Articles"
                  href="/articles/"> Articles</a>
              </li>

              
              


                
            

            
              <li class="nav-item nav-link">
                <a id="dark-mode-toggle" class="bi bi-moon-stars" role="button"></a>
              </li>

              
              
            </ul>

            
          </div>
        </div>
      </nav>

    </div>
  </div>
</div>
    









<header class="header-section ">

  <div class="intro-header no-img mt-10 pb-2">
    <div class="container">
      <div class="row justify-content-center">

        
          
        <div class="col-sm-12  col-md-12 col-lg-12 col-xl-12 tags-sec  text-center">
          
          


            
            

            
            <div class="posts-heading">
              <h1 class="fw-medium lh-1 align-items-center">
                Python 3.10
                
              </h1>
            </div>


            

            

            

            
            
            
          </div>
        </div>
      </div>
    </div>
  </div>
</header>


    
<div class="container" role="main">
  <div class="row">

    

    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4">
      <article role="main" class="blog-post">
        <h2 id="python-310-is-here">Python 3.10 is here</h2>
<p><a href="https://www.python.org/downloads/release/python-3100/">Python 3.10</a> is now released. It has a few features worth talking about. Some of these features never existed before in Python (surprisingly!)</p>
<h3 id="structural-mattern-matching"><strong>Structural Mattern Matching</strong></h3>
<p>In the traditional programming languages, this is usually referred to as the <code>switch ...case</code>
statements. Although syntactically it looks like a <code>switch ... case</code> statement, it is a lot more than that.</p>
<p>It allows you to detect and deconstruct different structures the data is defined as, and lets you
use patterns of your definition. Standard pattern matching is very literal and let&rsquo;s you define explicitly. All in all, it adds good power to the language</p>
<p>Relevant Documents:</p>
<ul>
<li><a href="https://www.python.org/dev/peps/pep-0634">Specificaiton - PEP 634</a></li>
<li><a href="https://www.python.org/dev/peps/pep-0635">Motivation &amp; Rationale - PEP 635</a></li>
<li><a href="https://www.python.org/dev/peps/pep-0636">Tutorial - PEP 636</a></li>
</ul>
<p>Now let&rsquo;s take a look at Python Type checking using this structure. Normally, Type checking is not needed in Python, but for traditional language folks, this is a useful feature.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">match</span> <span class="n">value</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="nb">str</span><span class="p">():</span>  <span class="c1"># Handle strings first for performance reasons.</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">value</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="nb">bool</span><span class="p">():</span>  <span class="c1"># Make sure booleans don&#39;t get treated as numbers</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="n">decimal</span><span class="o">.</span><span class="n">Decimal</span><span class="p">()</span> <span class="o">|</span> <span class="nb">float</span><span class="p">()</span> <span class="o">|</span> <span class="nb">int</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">use_l10n</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">number_format</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">use_l10n</span><span class="o">=</span><span class="n">use_l10n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">date_format</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s1">&#39;DATETIME_FORMAT&#39;</span><span class="p">,</span> <span class="n">use_l10n</span><span class="o">=</span><span class="n">use_l10n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">date_format</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">use_l10n</span><span class="o">=</span><span class="n">use_l10n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">time_format</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s1">&#39;TIME_FORMAT&#39;</span><span class="p">,</span> <span class="n">use_l10n</span><span class="o">=</span><span class="n">use_l10n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="n">_</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">value</span>
</span></span></code></pre></div><h3 id="better-error-messages"><strong>Better Error Messages</strong></h3>
<p>Much of this <a href="https://docs.python.org/3.10/whatsnew/3.10.html#better-error-messages">Documentation</a> describes the precision of the error messages. There are a lot of cases when debugging a large code base , one encounters errors that makes you wonder and guess the reasons behind the error messages.
The classic language confusion of the message <code>Syntax Error</code> is one of them .</p>
<p>Here is one example of a small variable definition error. A simple commonly occurring error but the messages are a lot more explicit.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">CountProjectOwners</span> <span class="o">=</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">CountProject</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="o">&gt;</span> <span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;CountProject&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span><span class="o">.</span> <span class="n">Did</span> <span class="n">you</span> <span class="n">mean</span><span class="p">:</span> <span class="n">CountProjectOwners</span> <span class="err">?</span>
</span></span></code></pre></div><p>Now let&rsquo;s look at one common scenatio of forgetting to write &ldquo;:&rdquo;</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">if</span> <span class="n">age</span> <span class="o">&gt;</span> <span class="mi">21</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Age is greater than 21&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>Now let&rsquo;s run this code in 3.10 and see</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">% python3.10 age.py
</span></span><span class="line"><span class="cl"><span class="k">if</span> age &gt; <span class="m">21</span>    
</span></span><span class="line"><span class="cl">         ^
</span></span><span class="line"><span class="cl">SyntaxError: expected <span class="s1">&#39;:&#39;</span>
</span></span></code></pre></div><h3 id="parenthesized-context-managers"><strong>Parenthesized Context Managers</strong></h3>
<p>With this feature, it allows multiple I/O streams statements to be combined in a single statement of <code>with</code>. e.g.</p>
<p>Say , for example, we had a line like &hellip;</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo1.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fooin</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo2.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fooout</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">foout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">fooin</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</span></span></code></pre></div><p>If this line is too long, we can split it using the traditional approach of using backslash <code>\</code>
e.g.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo1.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fooin</span><span class="p">,</span> \
</span></span><span class="line"><span class="cl">     <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo2.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fooout</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">fooout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">fooin</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</span></span></code></pre></div><p>With this new feature, the line can be split across multiple lines and kept within a pair of
parentheses. e.g.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">with</span> <span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo1.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fooin</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo2.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fooout</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">fooout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">fooin</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</span></span></code></pre></div><p>Simple, but makes the code readable and clean.</p>
<h3 id="type-unions"><strong>Type Unions</strong></h3>
<p>There are a lot of cases where the data types itself are not precisely known but the
function can complete execution  within certain boundaries. e.g.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="mf">3.142</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  
</span></span></code></pre></div><p>this function will execute for both <code>int</code> and <code>float</code> as arguments, but will fail for <code>str</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># pass</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="mf">5.5</span><span class="p">)</span> <span class="c1"># pass</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">)</span>  <span class="c1"># fail</span>
</span></span></code></pre></div>
      </article>
    </div>
  </div>

  
  <div class="row">
        <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-2">
      
    </div>

    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4">
      
    </div>

    <div class="col-lg-8 offset-lg-2 col-md-12 offset-md-1 pt-4">
      
      <ul class="list-group list-group-horizontal" style="flex-direction: row">
        
        <li class="list-group-item b-0 p-0">

          <a type="button" class="btn btn-dark" role="button" href="https://nacharya.github.io/posts/wsl/"
            data-toggle="tooltip" data-placement="top" title="WSLv2 and Windows 10 Pro">&larr;
            </a>
        </li>
        


        
        <li class="list-group-item ms-auto b-0 p-0">
          <a type="button" class="btn btn-dark" role="button" href="https://nacharya.github.io/posts/data-analytics/"
            data-toggle="tooltip" data-placement="top" title="Data Analytics Links">
            &rarr;</a>
        </li>
        
      </ul>
      
    </div>

    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4">
    </div>
  </div>
  
</div>

<div class="">
  
  

  

</div>

    


<footer>

  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <ul
          class="list-inline list-group list-group-horizontal text-center footer-links d-flex justify-content-center flex-row">

          
          
        </ul>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <p class="credits copyright text-muted">
          
          
          N Acharya
          
          

          &nbsp;&bull;&nbsp;&copy;
          
          2025
          

          
          &nbsp;&bull;&nbsp;
          <a href="https://nacharya.github.io/">N Acharya</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    
  </body>
</html>

